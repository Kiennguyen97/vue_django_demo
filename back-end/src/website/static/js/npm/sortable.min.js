!function(t){"use strict";"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&void 0!==module.exports?module.exports=t():window.Sortable=t()}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};function g(t,e){var o,n=G(t),i=p(n.width)-p(n.paddingLeft)-p(n.paddingRight)-p(n.borderLeftWidth)-p(n.borderRightWidth),r=Xt(t,0,e),t=Xt(t,1,e),e=r&&G(r),a=t&&G(t),l=e&&p(e.marginLeft)+p(e.marginRight)+Q(r).width,s=a&&p(a.marginLeft)+p(a.marginRight)+Q(t).width;return"flex"===n.display?"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal":"grid"===n.display?n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":r&&"none"!==e.float?(o="left"===e.float?"left":"right",!t||"both"!==a.clear&&a.clear!==o?"horizontal":"vertical"):r&&("block"===e.display||"flex"===e.display||"table"===e.display||"grid"===e.display||i<=l&&"none"===n[pt]||t&&"none"===n[pt]&&i<l+s)?"vertical":"horizontal"}function x(t,e){if(t&&t.getBoundingClientRect){var o=t,n=!1;do{if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var i=G(o);if(o.clientWidth<o.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||o.clientHeight<o.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!o||!o.getBoundingClientRect||o===W.body)return N();if(n||e)return o;n=!0}}}while(o=o.parentNode)}return N()}function N(){return z?W.documentElement:W.scrollingElement}function J(t,e,o){t.scrollLeft+=e,t.scrollTop+=o}function i(t){M&&M.parentNode&&M.parentNode[L]&&M.parentNode[L]._computeIsAligned(t)}function $(t,e){for(var o=e;!o[L];)o=o.parentNode;return t===o}function tt(t,e,o){for(var n=t.parentNode;n&&!n[L];)n=n.parentNode;n&&n[L][o](Bt(e,{artificialBubble:!0}))}function v(){!vt&&c&&G(c,"display","none")}function m(){!vt&&c&&G(c,"display","")}var M,P,c,u,X,Y,b,A,et,ot,k,n,nt,I,l,w,_,s,B,it,O,rt,at,lt,d,H,R=[],st=!1,y=!1,ct=!1,a=[],dt=!1,ht=!1,D=[],S=/\s+/g,L="Sortable"+(new Date).getTime(),f=window,W=f.document,p=f.parseInt,F=f.setTimeout,e=f.jQuery||f.Zepto,o=f.Polymer,T={capture:!1,passive:!1},z=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),C=!!navigator.userAgent.match(/Edge/i),E=!!navigator.userAgent.match(/firefox/i),ut=!(!navigator.userAgent.match(/safari/i)||navigator.userAgent.match(/chrome/i)||navigator.userAgent.match(/android/i)),ft=!!navigator.userAgent.match(/iP(ad|od|hone)/i),pt=C||z?"cssFloat":"float",gt="draggable"in W.createElement("div"),vt=function(){if(z)return!1;var t=W.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}(),mt=!1,bt=!1,j=Math.abs,wt=Math.min,_t=Math.max,yt=[],Dt=It(function(o,t,e,n){if(t.scroll){var i=e?e[L]:window,r=t.scrollSensitivity,a=t.scrollSpeed,l=o.clientX,s=o.clientY,c=N(),d=!1,h=(et!==e&&(St(),A=t.scroll,ot=t.scrollFn,!0===A&&(A=x(e,!0),et=A)),0),u=A;do{var f,p=u,g=Q(p),v=g.top,m=g.bottom,b=g.left,w=g.right,_=g.width,g=g.height,y=p.scrollWidth,D=p.scrollHeight,S=G(p),T=p.scrollLeft,C=p.scrollTop,S=p===c?(f=_<y&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),g<D&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(f=_<y&&("auto"===S.overflowX||"scroll"===S.overflowX),g<D&&("auto"===S.overflowY||"scroll"===S.overflowY)),w=f&&(j(w-l)<=r&&T+_<y)-(j(b-l)<=r&&!!T),_=S&&(j(m-s)<=r&&C+g<D)-(j(v-s)<=r&&!!C);if(!R[h])for(var E=0;E<=h;E++)R[E]||(R[E]={});R[h].vx==w&&R[h].vy==_&&R[h].el===p||(R[h].el=p,R[h].vx=w,R[h].vy=_,clearInterval(R[h].pid),!p||0==w&&0==_||(d=!0,R[h].pid=setInterval(function(){n&&0===this.layer&&(U.active._emulateDragOver(!0),U.active._onTouchMove(B,!0));var t=R[this.layer].vy?R[this.layer].vy*a:0,e=R[this.layer].vx?R[this.layer].vx*a:0;"function"==typeof ot&&"continue"!==ot.call(i,e,t,o,B,R[this.layer].el)||J(R[this.layer].el,e,t)}.bind({layer:h}),24))),h++}while(t.bubbleScroll&&u!==c&&(u=x(u,!1)));st=d}},30),St=function(){R.forEach(function(t){clearInterval(t.pid)}),R=[]},Tt=function(t){function l(r,a){return function(t,e,o,n){var i=t.options.group.name&&e.options.group.name&&t.options.group.name===e.options.group.name;if(null==r&&(a||i))return!0;if(null==r||!1===r)return!1;if(a&&"clone"===r)return r;if("function"==typeof r)return l(r(t,e,o,n),a)(t,e,o,n);i=(a?t:e).options.group.name;return!0===r||"string"==typeof r&&r===i||r.join&&-1<r.indexOf(i)}}var e={},o=t.group;e.name=(o=o&&"object"==typeof o?o:{name:o}).name,e.checkPull=l(o.pull,!0),e.checkPut=l(o.put),e.revertClone=o.revertClone,t.group=e};W.addEventListener("click",function(t){if(ct)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),ct=!1},!0);function t(t){var e;t=t.touches?t.touches[0]:t,M&&(e=function(t,e){for(var o=0;o<a.length;o++)if(!Yt(a[o])){var n=Q(a[o]),i=a[o][L].options.emptyInsertThreshold,r=t>=n.left-i&&t<=n.right+i,n=e>=n.top-i&&e<=n.bottom+i;if(r&&n)return a[o]}}(t.clientX,t.clientY))&&e[L]._onDragOver({clientX:t.clientX,clientY:t.clientY,target:e,rootEl:e})}var Ct;function U(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(t);this.el=t,this.options=e=Bt({},e),t[L]=this;var o,n,i={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return g(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,touchStartThreshold:p(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==U.supportPointer&&("PointerEvent"in window||window.navigator&&"msPointerEnabled"in window.navigator),emptyInsertThreshold:5};for(o in i)o in e||(e[o]=i[o]);for(n in Tt(e),this)"_"===n.charAt(0)&&"function"==typeof this[n]&&(this[n]=this[n].bind(this));this.nativeDraggable=!e.forceFallback&&gt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?h(t,"pointerdown",this._onTapStart):(h(t,"mousedown",this._onTapStart),h(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(h(t,"dragover",this),h(t,"dragenter",this)),a.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[])}function V(t,e,o,n){if(t){o=o||W;do{if(null!=e&&(">"===e[0]&&t.parentNode===o&&kt(t,e.substring(1))||kt(t,e))||n&&t===o)return t}while(t!==o&&(t=(i=t).host&&i!==W&&i.host.nodeType?i.host:i.parentNode))}var i;return null}function h(t,e,o){t.addEventListener(e,o,T)}function r(t,e,o){t.removeEventListener(e,o,T)}function q(t,e,o){var n;t&&e&&(t.classList?t.classList[o?"add":"remove"](e):(n=(" "+t.className+" ").replace(S," ").replace(" "+e+" "," "),t.className=(n+(o?" "+e:"")).replace(S," ")))}function G(t,e,o){var n=t&&t.style;if(n){if(void 0===o)return W.defaultView&&W.defaultView.getComputedStyle?o=W.defaultView.getComputedStyle(t,""):t.currentStyle&&(o=t.currentStyle),void 0===e?o:o[e];n[e=e in n||-1!==e.indexOf("webkit")?e:"-webkit-"+e]=o+("string"==typeof o?"":"px")}}function Et(t){var e="";do{var o=G(t,"transform")}while(o&&"none"!==o&&(e=o+" "+e),t=t.parentNode);return window.DOMMatrix?new DOMMatrix(e):window.WebKitCSSMatrix?new WebKitCSSMatrix(e):window.CSSMatrix?new CSSMatrix(e):void 0}function xt(t,e,o){if(t){var n=t.getElementsByTagName(e),i=0,r=n.length;if(o)for(;i<r;i++)o(n[i],i);return n}return[]}function K(t,e,o,n,i,r,a,l,s){var c,d=(t=t||e[L]).options,h="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||z||C?(c=W.createEvent("Event")).initEvent(o,!0,!0):c=new CustomEvent(o,{bubbles:!0,cancelable:!0}),c.to=i||e,c.from=r||e,c.item=n||e,c.clone=u,c.oldIndex=a,c.newIndex=l,c.originalEvent=s,c.pullMode=I?I.lastPutMode:void 0,e&&e.dispatchEvent(c),d[h]&&d[h].call(t,c)}function Nt(t,e,o,n,i,r,a,l){var s,c,d=t[L],h=d.options.onMove;return!window.CustomEvent||z||C?(s=W.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=e,s.from=t,s.dragged=o,s.draggedRect=n,s.related=i||e,s.relatedRect=r||Q(e),s.willInsertAfter=l,s.originalEvent=a,t.dispatchEvent(s),c=h?h.call(d,s,a):c}function Mt(t){t.draggable=!1}function Pt(){mt=!1}function Xt(t,e,o){for(var n=0,i=0,r=t.children;i<r.length;){if("none"!==r[i].style.display&&r[i]!==c&&r[i]!==M&&V(r[i],o.draggable,t,!1)){if(n===e)return r[i];n++}i++}return null}function Yt(t){for(var e=t.lastElementChild;e&&(e===c||"none"===e.style.display);)e=e.previousElementSibling;return e||null}function At(t){return Z(M)<Z(t)?1:-1}function Z(t,e){var o=0;if(!t||!t.parentNode)return-1;for(;t=t&&t.previousElementSibling;)"TEMPLATE"!==t.nodeName.toUpperCase()&&t!==u&&o++;return o}function kt(t,e){if(t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return}}function It(o,n){return function(){var t,e;Ct||(t=arguments,e=this,Ct=F(function(){1===t.length?o.call(e,t[0]):o.apply(e,t),Ct=void 0},n))}}function Bt(t,e){if(t&&e)for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function Ot(t){return o&&o.dom?o.dom(t).cloneNode(!0):e?e(t).clone(!0)[0]:t.cloneNode(!0)}function Ht(t){return F(t,0)}function Rt(t){return clearTimeout(t)}function Q(t,e,o,n){if(t.getBoundingClientRect||t===f){var i,r,a,l,s,c,d=t!==f&&t!==N()?(r=(i=t.getBoundingClientRect()).top,a=i.left,l=i.bottom,s=i.right,c=i.height,i.width):(a=r=0,l=window.innerHeight,s=window.innerWidth,c=window.innerHeight,window.innerWidth);if(n&&t!==f&&(o=o||t.parentNode,!z))do{if(o&&o.getBoundingClientRect&&"none"!==G(o,"transform")){var h=o.getBoundingClientRect();r-=h.top+p(G(o,"border-top-width")),a-=h.left+p(G(o,"border-left-width")),l=r+i.height,s=a+i.width;break}}while(o=o.parentNode);return e&&t!==f&&(e=(n=Et(o||t))&&n.a,t=n&&n.d,n&&(l=(r/=t)+(c/=t),s=(a/=e)+(d/=e))),{top:r,left:a,bottom:l,right:s,width:d,height:c}}}function Lt(t,e){for(var o=x(t,!0),n=Q(t)[e];o;){var i=Q(o)[e];if(!("top"===e||"left"===e?i<=n:n<=i))return o;if(o===N())break;o=x(o,!1)}return!1}function Wt(t){var e=0,o=0,n=N();if(t)do{var i=Et(t),r=i.a,i=i.d}while(e+=t.scrollLeft*r,o+=t.scrollTop*i,t!==n&&(t=t.parentNode));return[e,o]}return h(W,"dragover",t),h(W,"mousemove",t),h(W,"touchmove",t),U.prototype={constructor:U,_computeIsAligned:function(t){var e;if(c&&!vt?(v(),e=W.elementFromPoint(t.clientX,t.clientY),m()):e=t.target,e=V(e,this.options.draggable,this.el,!1),!bt&&M&&M.parentNode===this.el){for(var o,n,i,r,a,l=this.el.children,s=0;s<l.length;s++)V(l[s],this.options.draggable,this.el,!1)&&l[s]!==e&&(l[s].sortableMouseAligned=(o=t.clientX,n=t.clientY,r=l[s],i=this._getDirection(t,null),this.options,r=Q(r),a="vertical"===i?r.left:r.top,r="vertical"===i?r.right:r.bottom,a<(a="vertical"===i?o:n)&&a<r));V(e,this.options.draggable,this.el,!0)||(O=null),bt=!0,F(function(){bt=!1},30)}},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,M):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e,o=this,n=this.el,i=this.options,r=i.preventOnFilter,a=t.type,l=t.touches&&t.touches[0],s=(l||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,d=i.filter,h=n;yt.length=0;for(var u=h.getElementsByTagName("input"),f=u.length;f--;){var p=u[f];p.checked&&yt.push(p)}if((!z||t.artificialBubble||$(n,s))&&!M&&!(/mousedown|pointerdown/.test(a)&&0!==t.button||i.disabled||c.isContentEditable))if(s=V(s,i.draggable,n,!1)){if(b!==s){if(e=Z(s,i.draggable),"function"==typeof d){if(d.call(this,t,s,this))return K(o,c,"filter",s,n,n,e),void(r&&t.cancelable&&t.preventDefault())}else if(d=d&&d.split(",").some(function(t){if(t=V(c,t.trim(),n,!1))return K(o,t,"filter",s,n,n,e),!0}))return void(r&&t.cancelable&&t.preventDefault());i.handle&&!V(c,i.handle,n,!1)||this._prepareDragStart(t,l,s,e)}}else z&&tt(n,t,"_onTapStart")}},_handleAutoScroll:function(e,o){var n,i,t,r,a;M&&this.options.scroll&&(n=e.clientX,i=e.clientY,t=W.elementFromPoint(n,i),r=this,o||C||z||ut?(Dt(e,r.options,t,o),a=x(t,!0),!st||l&&n===w&&i===_||(l&&clearInterval(l),l=setInterval(function(){var t;M&&(t=x(W.elementFromPoint(n,i),!0))!==a&&(a=t,St(),Dt(e,r.options,a,o))},10),w=n,_=i)):r.options.bubbleScroll&&x(t,!0)!==N()?Dt(e,r.options,x(t,!1),!1):St())},_prepareDragStart:function(t,e,o,n){var i=this,r=i.el,a=i.options,l=r.ownerDocument;o&&!M&&o.parentNode===r&&(X=r,P=(M=o).parentNode,Y=M.nextSibling,b=o,nt=a.group,k=n,s={target:M,clientX:(e||t).clientX,clientY:(e||t).clientY},this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,M.style["will-change"]="all",M.style.transition="",M.style.transform="",r=function(){i._disableDelayedDragEvents(),!E&&i.nativeDraggable&&(M.draggable=!0),i._triggerDragStart(t,e),K(i,X,"choose",M,X,X,k),q(M,a.chosenClass,!0)},a.ignore.split(",").forEach(function(t){xt(M,t.trim(),Mt)}),a.supportPointer?h(l,"pointerup",i._onDrop):(h(l,"mouseup",i._onDrop),h(l,"touchend",i._onDrop),h(l,"touchcancel",i._onDrop)),E&&this.nativeDraggable&&(this.options.touchStartThreshold=4,M.draggable=!0),!a.delay||this.nativeDraggable&&(C||z)?r():(h(l,"mouseup",i._disableDelayedDrag),h(l,"touchend",i._disableDelayedDrag),h(l,"touchcancel",i._disableDelayedDrag),h(l,"mousemove",i._delayedDragTouchMoveHandler),h(l,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&h(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=F(r,a.delay)))},_delayedDragTouchMoveHandler:function(t){t=t.touches?t.touches[0]:t;_t(j(t.clientX-this._lastX),j(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){M&&Mt(M),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;r(t,"mouseup",this._disableDelayedDrag),r(t,"touchend",this._disableDelayedDrag),r(t,"touchcancel",this._disableDelayedDrag),r(t,"mousemove",this._delayedDragTouchMoveHandler),r(t,"touchmove",this._delayedDragTouchMoveHandler),r(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||("touch"==t.pointerType?t:null),!this.nativeDraggable||e?this.options.supportPointer?h(W,"pointermove",this._onTouchMove):h(W,e?"touchmove":"mousemove",this._onTouchMove):(h(M,"dragend",this),h(X,"dragstart",this._onDragStart));try{W.selection?Ht(function(){W.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){var o;y=!1,X&&M?(this.nativeDraggable&&(h(W,"dragover",this._handleAutoScroll),h(W,"dragover",i)),o=this.options,t||q(M,o.dragClass,!1),q(M,o.ghostClass,!0),G(M,"transform",""),U.active=this,t&&this._appendGhost(),K(this,X,"start",M,X,X,k,void 0,e)):this._nulling()},_emulateDragOver:function(t){if(B&&(this._lastX!==B.clientX||this._lastY!==B.clientY||t)){this._lastX=B.clientX,this._lastY=B.clientY,v();for(var e=W.elementFromPoint(B.clientX,B.clientY),o=e;e&&e.shadowRoot;)o=e=e.shadowRoot.elementFromPoint(B.clientX,B.clientY);if(o)for(;(!o[L]||!o[L]._onDragOver({clientX:B.clientX,clientY:B.clientY,target:e,rootEl:o})||this.options.dragoverBubble)&&(o=(e=o).parentNode););M.parentNode[L]._computeIsAligned(B),m()}},_onTouchMove:function(t,e){if(s){var o=this.options,n=o.fallbackTolerance,o=o.fallbackOffset,i=t.touches?t.touches[0]:t,r=c&&Et(c),a=c&&r&&r.a,r=c&&r&&r.d,l=ft&&d&&Wt(d),a=(i.clientX-s.clientX+o.x)/(a||1)+(l?l[0]-D[0]:0)/(a||1),o=(i.clientY-s.clientY+o.y)/(r||1)+(l?l[1]-D[1]:0)/(r||1),l=t.touches?"translate3d("+a+"px,"+o+"px,0)":"translate("+a+"px,"+o+"px)";if(!U.active&&!y){if(n&&wt(j(i.clientX-this._lastX),j(i.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}e||this._handleAutoScroll(i,!0),it=!0,B=i,G(c,"webkitTransform",l),G(c,"mozTransform",l),G(c,"msTransform",l),G(c,"transform",l),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!c){var t,e=this.options.fallbackOnBody?W.body:X,o=Q(M,!0,e,!ft),n=(G(M),this.options);if(ft){for(d=e;"static"===G(d,"position")&&"none"===G(d,"transform")&&d!==W;)d=d.parentNode;d!==W&&(t=Q(d,!0),o.top-=t.top,o.left-=t.left),d!==W.body&&d!==W.documentElement?(d===W&&(d=N()),o.top+=d.scrollTop,o.left+=d.scrollLeft):d=N(),D=Wt(d)}q(c=M.cloneNode(!0),n.ghostClass,!1),q(c,n.fallbackClass,!0),q(c,n.dragClass,!0),G(c,"box-sizing","border-box"),G(c,"margin",0),G(c,"top",o.top),G(c,"left",o.left),G(c,"width",o.width),G(c,"height",o.height),G(c,"opacity","0.8"),G(c,"position",ft?"absolute":"fixed"),G(c,"zIndex","100000"),G(c,"pointerEvents","none"),e.appendChild(c)}},_onDragStart:function(t,e){var o=this,n=t.dataTransfer,i=o.options;(u=Ot(M)).draggable=!1,u.style["will-change"]="",this._hideClone(),q(u,o.options.chosenClass,!1),o._cloneId=Ht(function(){o.options.removeCloneOnHide||X.insertBefore(u,M),K(o,X,"clone",M)}),e||q(M,i.dragClass,!0),e?(ct=!0,o._loopId=setInterval(o._emulateDragOver,50)):(r(W,"mouseup",o._onDrop),r(W,"touchend",o._onDrop),r(W,"touchcancel",o._onDrop),n&&(n.effectAllowed="move",i.setData&&i.setData.call(o,n,M)),h(W,"drop",o),G(M,"transform","translateZ(0)")),y=!0,o._dragStartId=Ht(o._dragStarted.bind(o,e,t)),h(W,"selectstart",o),ut&&G(W.body,"user-select","none")},_onDragOver:function(e){var t,o,n,i,r=this.el,a=e.target,l=this.options,s=l.group,c=U.active,d=nt===s,h=l.sort,u=this;if(!mt&&(!z||e.rootEl||e.artificialBubble||$(r,a))){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),it=!0,a=V(a,l.draggable,r,!0),V(e.target,null,M,!0)||a.animated)return C(!1);if(a!==M&&(ct=!1),c&&!l.disabled&&(d?h||(_=!X.contains(M)):I===this||(this.lastPutMode=nt.checkPull(this,c,M,e))&&s.checkPut(this,c,M,e))){var h=this._getDirection(e,a),f=Q(M);if(_)return this._hideClone(),P=X,Y?X.insertBefore(M,Y):X.appendChild(M),C(!0);s=Yt(r);if(s&&(_=e,g=h,w=Q(Yt(r)),m="vertical"===g?_.clientY:_.clientX,_="vertical"===g?_.clientX:_.clientY,b="vertical"===g?w.bottom:w.right,v="vertical"===g?w.left:w.top,w="vertical"===g?w.right:w.bottom,!("vertical"===g?w+10<_||_<=w&&b<m&&v<=_:b<m&&v<_||m<=b&&w+10<_)||s.animated)){if(a&&a!==M&&a.parentNode===r){var p,g=0,v=a.sortableMouseAligned,m=M.parentNode!==r,b="vertical"===h?"top":"left",w=Lt(a,"top")||Lt(M,"top"),_=w?w.scrollTop:void 0;if(O!==a&&(at=null,p=Q(a)[b],dt=!1),D=a,i=h,o=M===M&&H||Q(M),D=D===M&&H||Q(D),t="vertical"===i?o.left:o.top,S="vertical"===i?o.right:o.bottom,o="vertical"===i?o.width:o.height,n="vertical"===i?D.left:D.top,T="vertical"===i?D.right:D.bottom,i="vertical"===i?D.width:D.height,at=(t===n||S===T||t+o/2===n+i/2)&&v||m||w||l.invertSwap||"insert"===at||"swap"===at?("swap"!==at&&(ht=l.invertSwap||m),g=function(t,e,o,n,i,r,a){var l=Q(e),t="vertical"===o?t.clientY:t.clientX,s="vertical"===o?l.height:l.width,c="vertical"===o?l.top:l.left,l="vertical"===o?l.bottom:l.right,d=Q(M),h=!1;if(!r)if(a&&lt<s*n){if(dt=!dt&&(1===rt?c+s*i/2<t:t<l-s*i/2)?!0:dt)h=!0;else if("vertical"===o?d.top:d.left,"vertical"===o?d.bottom:d.right,1===rt?t<c+lt:l-lt<t)return-1*rt}else if(c+s*(1-n)/2<t&&t<l-s*(1-n)/2)return At(e);return(h=h||r)&&(t<c+s*i/2||l-s*i/2<t)?c+s/2<t?1:-1:0}(e,a,h,l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,ht,O===a),"swap"):(g=At(a),"insert"),0===g)return C(!1);H=null,rt=g;var y=Q(O=a),D=a.nextElementSibling,S=!1,T=Nt(X,r,M,f,a,y,e,S=1===g);if(!1!==T)return 1!==T&&-1!==T||(S=1===T),mt=!0,F(Pt,30),d?c._hideClone():c._showClone(this),S&&!D?r.appendChild(M):a.parentNode.insertBefore(M,S?D:a),w&&J(w,0,_-w.scrollTop),P=M.parentNode,void 0===p||ht||(lt=j(p-Q(a)[b])),E(),C(!0)}}else if((a=s&&r===e.target?s:a)&&(y=Q(a)),d?c._hideClone():c._showClone(this),!1!==Nt(X,r,M,f,a,y,e,!!a))return r.appendChild(M),P=r,H=null,E(),C(!0);if(r.contains(M))return C(!1)}return z&&!e.rootEl&&tt(r,e,"_onDragOver"),!1}function C(t){return t&&(d?c._hideClone():c._showClone(u),c&&(q(M,(I||c).options.ghostClass,!1),q(M,l.ghostClass,!0)),I!==u&&u!==U.active?I=u:u===U.active&&(I=null),f&&u._animate(f,M),a&&y&&u._animate(y,a)),(a===M&&!M.animated||a===r&&!a.animated)&&(O=null),l.dragoverBubble||e.rootEl||a===W||(u._handleAutoScroll(e),M.parentNode[L]._computeIsAligned(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),!0}function E(){K(u,X,"change",a,r,X,k,Z(M,l.draggable),e)}},_animate:function(t,e){var o,n,i,r=this.options.animation;r&&(o=Q(e),e===M&&(H=o),(t=1===t.nodeType?Q(t):t).left+t.width/2===o.left+o.width/2&&t.top+t.height/2===o.top+o.height/2||(n=(i=Et(this.el))&&i.a,i=i&&i.d,G(e,"transition","none"),G(e,"transform","translate3d("+(t.left-o.left)/(n||1)+"px,"+(t.top-o.top)/(i||1)+"px,0)"),e.offsetWidth,G(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),G(e,"transform","translate3d(0,0,0)")),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=F(function(){G(e,"transition",""),G(e,"transform",""),e.animated=!1},r))},_offUpEvents:function(){var t=this.el.ownerDocument;r(W,"touchmove",this._onTouchMove),r(W,"pointermove",this._onTouchMove),r(t,"mouseup",this._onDrop),r(t,"touchend",this._onDrop),r(t,"pointerup",this._onDrop),r(t,"touchcancel",this._onDrop),r(W,"selectstart",this)},_onDrop:function(t){var e=this.el,o=this.options;dt=ht=st=y=!1,clearInterval(this._loopId),clearInterval(l),St(),clearTimeout(Ct),Ct=void 0,clearTimeout(this._dragStartTimer),Rt(this._cloneId),Rt(this._dragStartId),r(W,"mousemove",this._onTouchMove),this.nativeDraggable&&(r(W,"drop",this),r(e,"dragstart",this._onDragStart),r(W,"dragover",this._handleAutoScroll),r(W,"dragover",i)),ut&&G(W.body,"user-select",""),this._offUpEvents(),t&&(it&&(t.cancelable&&t.preventDefault(),o.dropBubble||t.stopPropagation()),c&&c.parentNode&&c.parentNode.removeChild(c),(X===P||I&&"clone"!==I.lastPutMode)&&u&&u.parentNode&&u.parentNode.removeChild(u),M&&(this.nativeDraggable&&r(M,"dragend",this),Mt(M),M.style["will-change"]="",q(M,(I||this).options.ghostClass,!1),q(M,this.options.chosenClass,!1),K(this,X,"unchoose",M,P,X,k,null,t),X!==P?(0<=(n=Z(M,o.draggable))&&(K(null,P,"add",M,P,X,k,n,t),K(this,X,"remove",M,P,X,k,n,t),K(null,P,"sort",M,P,X,k,n,t),K(this,X,"sort",M,P,X,k,n,t)),I&&I.save()):M.nextSibling!==Y&&0<=(n=Z(M,o.draggable))&&(K(this,X,"update",M,P,X,k,n,t),K(this,X,"sort",M,P,X,k,n,t)),U.active&&(K(this,X,"end",M,P,X,k,n=null!=n&&-1!==n?n:k,t),this.save()))),this._nulling()},_nulling:function(){X=M=P=c=Y=u=b=A=et=R.length=l=w=_=s=B=it=n=k=O=rt=H=I=nt=U.active=null,yt.forEach(function(t){t.checked=!0}),yt.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":M&&(this._onDragOver(t),(e=t).dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault());break;case"selectstart":t.preventDefault()}var e},toArray:function(){for(var t,e=[],o=this.el.children,n=0,i=o.length,r=this.options;n<i;n++)V(t=o[n],r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||function(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,o=e.length,n=0;o--;)n+=e.charCodeAt(o);return n.toString(36)}(t));return e},sort:function(t){var o={},n=this.el;this.toArray().forEach(function(t,e){e=n.children[e];V(e,this.options.draggable,n,!1)&&(o[t]=e)},this),t.forEach(function(t){o[t]&&(n.removeChild(o[t]),n.appendChild(o[t]))})},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return V(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var o=this.options;if(void 0===e)return o[t];o[t]=e,"group"===t&&Tt(o)},destroy:function(){var t=this.el;t[L]=null,r(t,"mousedown",this._onTapStart),r(t,"touchstart",this._onTapStart),r(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(r(t,"dragover",this),r(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),a.splice(a.indexOf(this.el),1),this.el=t=null},_hideClone:function(){u.cloneHidden||(G(u,"display","none"),u.cloneHidden=!0,u.parentNode&&this.options.removeCloneOnHide&&u.parentNode.removeChild(u))},_showClone:function(t){"clone"===t.lastPutMode?u.cloneHidden&&(X.contains(M)&&!this.options.group.revertClone?X.insertBefore(u,M):Y?X.insertBefore(u,Y):X.appendChild(u),this.options.group.revertClone&&this._animate(M,u),G(u,"display",""),u.cloneHidden=!1):this._hideClone()}},h(W,"touchmove",function(t){(U.active||y)&&t.cancelable&&t.preventDefault()}),U.utils={on:h,off:r,css:G,find:xt,is:function(t,e){return!!V(t,e,t,!1)},extend:Bt,throttle:It,closest:V,toggleClass:q,clone:Ot,index:Z,nextTick:Ht,cancelNextTick:Rt,detectDirection:g,getChild:Xt},U.create=function(t,e){return new U(t,e)},U.version="1.8.4",U});